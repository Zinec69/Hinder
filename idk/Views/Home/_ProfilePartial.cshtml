@using idk.Helpers;
@model idk.Models.User?

<div id="divOuter" class="profile-partial">
    @if (Model != null)
    {
        <div id="carousel-@Model.ID" class="carousel slide" style="height: 88%; transition: filter 1s;" data-bs-wrap="false" data-bs-interval="false">

            <div class="carousel-indicators" style="top: 0">
                <button type="button" data-bs-target="#carousel-@Model.ID" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 0"></button>
                @for (int i = 1; i < Model.Pics.Count; i++)
                {
                    <button type="button" data-bs-target="#carousel-@Model.ID" data-bs-slide-to="@i" aria-current="false" aria-label="Slide @i"></button>
                }
            </div>

            <div class="carousel-inner" style="height: 100%">
                @if (Model.Pics.Count > 0)
                {
                    @for (int i = 0; i < Model.Pics.Count; i++)
                    {
                        var active = i == 0 ? "active" : string.Empty;
                        <div class="carousel-item @active" style="height: 100%">
                            <img src="@Model.Pics[i].ConvertToHtmlBase64String()" class="d-block w-100" alt="..." style="height: 100%">
                        </div>
                    }
                }
                else
                {
                    <div class="carousel-item active" style="height: 100%">
                        <img src="~/pictures/default-user-pic.jpg" class="d-block w-100" alt="..." style="height: 100%">
                    </div>
                }
                <div style="background: linear-gradient(0deg, rgba(0,0,0,0.69) 0%, rgba(0,0,0,0.15) 85%, rgba(0,0,0,0) 100%); width: 100%; max-height: 45%; position: absolute; bottom: 0">
                    <div style="left: 4%; position: relative; color: white; margin-bottom: 12%">
                        <h3 style="text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5)">
                            <b>@Model.Name</b><span style="margin-left: 10px">20</span>
                        </h3>
                        <div style="margin-right: 8%">@Model.Bio</div>
                    </div>
                </div>
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#carousel-@Model.ID" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>

            <button class="carousel-control-next" type="button" data-bs-target="#carousel-@Model.ID" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>

            <div style="top: 5%; position: absolute; width: 100%">
                <h1 id="txtSwipeLeft"  style="color: red;       text-align: center; font-size: 20px; padding: 15px; text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); background: radial-gradient(ellipse, rgba(0,0,0,0.69) 0%, rgba(0,0,0,0) 70%); opacity: 0" hidden>PASS</h1>
                <h1 id="txtSwipeRight" style="color: limegreen; text-align: center; font-size: 20px; padding: 15px; text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); background: radial-gradient(ellipse, rgba(0,0,0,0.69) 0%, rgba(0,0,0,0) 70%); opacity: 0" hidden>SMASH</h1>
            </div>

        </div>
    }
    else
    {
        <div style="width: 100%; height: 100%; text-align: center; padding: 55% 0">
            <h1>That is all, folks</h1>
        </div>
    }
</div>